{"version":3,"file":"static/js/6272.1584129b.chunk.js","mappings":"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","sources":["components/Error/_404.tsx","components/Main/Challenges/index.tsx","challenges|lazy|/^/.//chal.*/.sol$/|groupOptions: {}|namespace object"],"sourcesContent":["import {\n    Box,\n    Button,\n    Card,\n    Container,\n    Divider,\n    FormControl,\n    InputAdornment,\n    OutlinedInput,\n    Typography,\n} from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { HelmetProvider, Helmet } from 'react-helmet-async';\nimport { styled } from '@mui/material/styles';\n\nconst ErrorWrapper = styled(Box)(\n    ({ theme }) => ({\n        height: '100%',\n        display: 'flex',\n        flex: 1,\n        overflow: 'auto',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n    })\n);\n\nconst OutlinedInputWrapper = styled(OutlinedInput)(\n    ({ theme }) => ({\n        backgroundColor: theme.colors.alpha.white[100],\n    })\n);\n\nconst Error404 = () => {\n    const navigate = useNavigate();\n    return (\n        <HelmetProvider>\n            <Helmet>\n                <title>404</title>\n            </Helmet>\n            <ErrorWrapper>\n                <Container maxWidth=\"md\">\n                    <Box textAlign=\"center\">\n                        <Typography variant=\"h2\" sx={{ marginY: 4 }}>\n                            Oops! Page not found!\n                        </Typography>\n                        <Typography\n                            variant=\"h4\"\n                            color=\"text.secondary\"\n                            fontWeight=\"normal\"\n                            sx={{ marginBotton: 4 }}\n                        >\n                            The page you were looking for does not exist.\n                        </Typography>\n                        <Button\n                            variant=\"contained\"\n                            color=\"error\"\n                            size=\"large\"\n                            onClick={() => { navigate(-1); }}\n                        >\n                            Back\n                        </Button>\n                    </Box>\n                </Container>\n            </ErrorWrapper>\n        </HelmetProvider>\n    );\n}\n\nexport default Error404;\n","import { FC, useRef, useState, useEffect, useCallback, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Web3 from \"web3\";\nimport { Contract } from \"web3-eth-contract\";\nimport { styled } from \"@mui/material/styles\";\nimport { CopyBlock, dracula } from \"react-code-blocks\";\nimport { Button, Container, Grid } from \"@mui/material\";\nimport {\n    HeaderWrapper,\n    HeaderTypography,\n    SubtitleTypography,\n    SubHeaderTypography,\n    SubSubHeaderTypography,\n    PaperComponentWrapper\n} from 'components/Main';\nimport MainWrapper from 'components/Main';\nimport Error404 from 'components/Error/_404';\nimport { useWeb3React } from '@web3-react/core';\nimport WaitEffectContext from \"contexts/WaitEffectContext\";\nimport LanguageContext from \"contexts/LanguageContext\";\nimport Web3Context from \"contexts/Web3Context\";\nimport info from \"challenges/contracts.json\";\n\n/* Typescript declaration merging */\n/* https://stackoverflow.com/questions/12709074/how-do-you-explicitly-set-a-new-property-on-window-in-typescript */\ndeclare global {\n    interface Window {\n        ethereum: any;\n        web3: Web3;\n        player: string;\n        contract: Contract;\n        instance: string;\n        abi: Array<any>;\n        help: () => void;\n    }\n}\n\ntype InfoType = {\n    title: string;\n    description: string;\n    tutorial: string;\n    address: string;\n    abi: Array<any>;\n};\n\nconst CopyBlockWrapper = styled(Container)(\n    () => ({\n        \"&.MuiContainer-root\": {\n            fontFamily: \"monospace\",\n            fontSize: \"16px\",\n            span: {\n                code: {\n                    backgroundColor: \"transparent\",\n                    color: \"white\",\n                }\n            }\n        }\n    })\n);\n\nconst Challenge: FC = () => {\n    window.help = () => {\n        const menu = {\n            \"player\" : \"current player address\",\n            \"web3\" : \"web3 object\",\n            \"contract\" : \"current level contract instance\",\n            \"instance\" : \"challenge contract address\",\n            \"abi\" : \"abi of challenge contract\",\n            \"help()\" : \"Show this table\"\n        };\n\n        console.table(menu);\n    }\n\n    const { multiLang } = useContext(LanguageContext);\n    const [contract, setContract] = useState<Contract>();\n    const [vuln, setVuln] = useState<string>(\"\");\n    const [submitDisabled, setSubmitDisabled] = useState<boolean>(true);\n    const { id } = useParams<string>();\n    const problemId = useRef<number>(Number(id));\n    const { active, account } = useWeb3React();\n    const { setShowSnackBar, setShowBackDrop, setErrorMessage } = useContext(WaitEffectContext);\n    const { contracts, solved } = useContext(Web3Context);\n\n    const handleSubmit = useCallback(async () => {\n        if (!active || !account || !contract) {\n            setErrorMessage(multiLang?.error.connectFirst);\n            setShowSnackBar(2);\n            return;\n        }\n        try {\n            setShowBackDrop(true);\n            await contract.methods.win().send({ from: account });\n        } catch (error) {\n            if (error instanceof Error) {\n                setErrorMessage(multiLang?.error.notSolved);\n                setShowSnackBar(2);\n            }\n        }\n        setShowBackDrop(false);\n    }, [active, account, contract]);\n\n    useEffect(() => {\n        const fetchChal = async () => {\n            const chalPath = await import(`challenges/chal${problemId.current}.sol`);\n            const chalFile = await fetch(chalPath.default);\n            const chalSource = await chalFile.text();\n            setVuln(chalSource);\n        };\n        fetchChal();\n    }, [problemId]);\n\n    useEffect(() => {\n        if (account) {\n            setTimeout(() => {\n                window.console.clear();\n                var style = 'color: tomato; background:#eee; -webkit-text-stroke: 1px black; font-size:30px;';\n                console.log('%cWelcome to HITCON Wargame!', style);\n                var style = 'color: blue; background:#eee; -webkit-text-stroke: 1px black; font-size:10px;';\n                console.log('%cYour address: %s', style, account);\n                console.log('%cContract address: %s', style, info[problemId.current].addr);\n                window.player = account;\n                const web3 = new Web3(Web3.givenProvider);\n                window.web3 = web3;\n                window.instance = info[problemId.current].addr;\n                window.abi = info[problemId.current].abi; \n                const contract = new web3.eth.Contract(window.abi, window.instance);\n                window.contract = contract;\n                window.help();\n\n                setContract(contract);\n                setSubmitDisabled(false);\n            }, 100);\n        }\n    }, [account, problemId, multiLang]);\n\n\n    return (\n        <>\n            {\n                (\n                    Number.isInteger(problemId.current)\n                    && problemId.current >= 0\n                    && problemId.current < Number(process.env.REACT_APP_PROBLEM_NUM)\n                ) ? (\n                    <MainWrapper title=\"Challenge\">\n                        <Grid container>\n                            <Grid item xs={12}>\n                                <HeaderWrapper>\n                                    <HeaderTypography>\n                                        {multiLang?.problems.challenges[problemId.current].title}\n                                    </HeaderTypography>\n                                    <SubtitleTypography>\n                                        {multiLang?.problems.challenges[problemId.current].description}\n                                    </SubtitleTypography>\n                                </HeaderWrapper>\n                            </Grid>\n                            <Grid item xs={12}>\n                                <PaperComponentWrapper>\n                                    <Container>\n                                        <SubSubHeaderTypography>\n                                            {multiLang?.problems.challenges[problemId.current].tutorial}\n                                        </SubSubHeaderTypography>\n                                        <CopyBlockWrapper>\n                                            <CopyBlock\n                                                text={vuln}\n                                                theme={dracula}\n                                                language=\"javascript\"\n                                                showLineNumbers\n                                            />\n                                        </CopyBlockWrapper>\n                                        <SubSubHeaderTypography>\n                                        {multiLang?.problems.contract.submitText}\n                                        </SubSubHeaderTypography>\n                                        <SubHeaderTypography>\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"warning\"\n                                                disabled={submitDisabled}\n                                                onClick={handleSubmit}\n                                            >\n                                                {multiLang?.problems.contract.submitButtonText}\n                                            </Button>\n                                        </SubHeaderTypography>\n                                    </Container>\n                                </PaperComponentWrapper>\n                            </Grid>\n                        </Grid>\n                    </MainWrapper>\n                ) : (\n                    <Error404 />\n                )\n            }\n        </>\n    )\n}\n\nexport default Challenge;\n","var map = {\n\t\"./chal0.sol\": [\n\t\t39080,\n\t\t9080\n\t],\n\t\"./chal1.sol\": [\n\t\t6396,\n\t\t6396\n\t],\n\t\"./chal2.sol\": [\n\t\t72194,\n\t\t2194\n\t],\n\t\"./chal3.sol\": [\n\t\t49572,\n\t\t9572\n\t],\n\t\"./chal4.sol\": [\n\t\t94924,\n\t\t4924\n\t],\n\t\"./chal5.sol\": [\n\t\t74406,\n\t\t4406\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 1 | 16);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 17189;\nmodule.exports = webpackAsyncContext;"],"names":["ErrorWrapper","styled","Box","theme","height","display","flex","overflow","flexDirection","alignItems","justifyContent","OutlinedInput","backgroundColor","colors","alpha","white","navigate","useNavigate","maxWidth","textAlign","variant","sx","marginY","color","fontWeight","marginBotton","size","onClick","CopyBlockWrapper","Container","fontFamily","fontSize","span","code","window","help","console","table","multiLang","useContext","LanguageContext","useState","contract","setContract","vuln","setVuln","submitDisabled","setSubmitDisabled","id","useParams","problemId","useRef","Number","useWeb3React","active","account","WaitEffectContext","setShowSnackBar","setShowBackDrop","setErrorMessage","Web3Context","handleSubmit","contracts","solved","useCallback","error","connectFirst","methods","win","send","from","Error","notSolved","useEffect","fetchChal","current","chalPath","fetch","default","chalFile","text","chalSource","setTimeout","clear","style","log","info","addr","player","web3","Web3","instance","abi","eth","Contract","isInteger","process","title","container","item","xs","problems","challenges","description","tutorial","dracula","language","showLineNumbers","submitText","disabled","submitButtonText","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","ids","t","keys","Object","module","exports"],"sourceRoot":""}